[gd_scene load_steps=15 format=3 uid="uid://2xtslp8w8ril"]

[ext_resource type="Script" path="res://addons/icbm_editor/scripts/comic_editor.gd" id="1_3vmmw"]
[ext_resource type="Theme" uid="uid://clanbtt7hrhjb" path="res://theme/default.tres" id="1_gldbu"]
[ext_resource type="Theme" uid="uid://7p01lqx0eat7" path="res://theme/buttons_theme.tres" id="2_uwmni"]
[ext_resource type="Theme" uid="uid://cfh5p5iowtmg7" path="res://addons/icbm_editor/theme/editor_panel.tres" id="3_wlsv2"]
[ext_resource type="Script" path="res://addons/icbm_editor/scripts/property_panels/comic_editor_balloon_properties.gd" id="4_nq2jk"]
[ext_resource type="Script" path="res://addons/icbm_editor/scripts/property_panels/comic_editor_page_properties.gd" id="4_nx1jt"]
[ext_resource type="Script" path="res://addons/icbm_editor/scripts/controls/bb_text_edit.gd" id="5_cheip"]
[ext_resource type="Texture2D" uid="uid://pr72hwmdr574" path="res://addons/icbm_editor/theme/icons/undo.svg" id="7_bibqs"]
[ext_resource type="Script" path="res://addons/icbm_editor/scripts/property_panels/comic_editor_kaboom_properties.gd" id="7_mktfq"]
[ext_resource type="Script" path="res://addons/icbm_editor/scripts/property_panels/comic_editor_button_properties.gd" id="8_lxpup"]
[ext_resource type="Script" path="res://addons/icbm_editor/scripts/property_panels/comic_editor_fragment_properties.gd" id="9_t8wiw"]
[ext_resource type="Script" path="res://addons/icbm_editor/scripts/property_panels/comic_editor_settings_properties.gd" id="10_2xp14"]
[ext_resource type="Script" path="res://addons/icbm_editor/scripts/property_panels/comic_editor_book_properties.gd" id="11_npbar"]
[ext_resource type="Script" path="res://addons/icbm_editor/scripts/property_panels/comic_editor_image_properties.gd" id="13_jcyyd"]

[node name="ComicEditor" type="Control" node_paths=PackedStringArray("properties_panel", "balloon_properties", "button_properties", "kaboom_properties", "page_properties", "fragment_properties", "settings_properties", "book_properties", "image_properties", "page_container", "buttons_container")]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("1_gldbu")
script = ExtResource("1_3vmmw")
properties_panel = NodePath("Properties")
balloon_properties = NodePath("Properties/MarginContainer/BalloonProperties")
button_properties = NodePath("Properties/MarginContainer/ButtonProperties")
kaboom_properties = NodePath("Properties/MarginContainer/KaboomProperties")
page_properties = NodePath("Properties/MarginContainer/PageProperties")
fragment_properties = NodePath("Properties/MarginContainer/FragmentProperties")
settings_properties = NodePath("Properties/MarginContainer/EditorSettings")
book_properties = NodePath("Properties/MarginContainer/BookProperties")
image_properties = NodePath("Properties/MarginContainer/ImageProperties")
page_container = NodePath("Page Container")
buttons_container = NodePath("Buttons Container")

[node name="Page Container" type="SubViewportContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch = true

[node name="Buttons Container" type="VBoxContainer" parent="."]
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -462.0
offset_top = -1058.0
offset_right = -22.0
offset_bottom = -22.0
grow_horizontal = 0
grow_vertical = 0
mouse_filter = 2
theme = ExtResource("2_uwmni")
alignment = 2

[node name="Properties" type="PanelContainer" parent="."]
visible = false
layout_mode = 1
anchors_preset = 11
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -483.0
offset_top = 21.0
offset_right = -21.0
offset_bottom = -21.0
grow_horizontal = 0
grow_vertical = 2
theme = ExtResource("3_wlsv2")

[node name="MarginContainer" type="MarginContainer" parent="Properties"]
layout_mode = 2

[node name="BalloonProperties" type="VBoxContainer" parent="Properties/MarginContainer" node_paths=PackedStringArray("text_edit", "edge_color_button", "edge_color_revert_button", "fill_color_button", "fill_color_revert_button", "font_color_button", "font_color_revert_button", "align_button", "anchor_button")]
visible = false
layout_mode = 2
script = ExtResource("4_nq2jk")
text_edit = NodePath("BBTextEdit")
edge_color_button = NodePath("Edge Color/Edge ColorPickerButton")
edge_color_revert_button = NodePath("Edge Color/Edge Color Revert Button")
fill_color_button = NodePath("Fill Color/Fill ColorPickerButton")
fill_color_revert_button = NodePath("Fill Color/Fill Color Revert Button")
font_color_button = NodePath("Font Color/Font ColorPickerButton")
font_color_revert_button = NodePath("Font Color/Font Color Revert Button")
align_button = NodePath("Alignment/Align OptionButton")
anchor_button = NodePath("Anchor/Anchor OptionButton")

[node name="Header" type="Label" parent="Properties/MarginContainer/BalloonProperties"]
layout_mode = 2
theme_type_variation = &"HeaderLarge"
text = "Balloon Properties"

[node name="BBTextEdit" type="TextEdit" parent="Properties/MarginContainer/BalloonProperties"]
custom_minimum_size = Vector2(0, 128)
layout_mode = 2
wrap_mode = 1
script = ExtResource("5_cheip")

[node name="Alignment" type="HBoxContainer" parent="Properties/MarginContainer/BalloonProperties"]
layout_mode = 2
size_flags_horizontal = 0

[node name="Label" type="Label" parent="Properties/MarginContainer/BalloonProperties/Alignment"]
custom_minimum_size = Vector2(140, 0)
layout_mode = 2
text = "Align Text:"

[node name="Align OptionButton" type="OptionButton" parent="Properties/MarginContainer/BalloonProperties/Alignment"]
custom_minimum_size = Vector2(304, 0)
layout_mode = 2

[node name="Anchor" type="HBoxContainer" parent="Properties/MarginContainer/BalloonProperties"]
layout_mode = 2
size_flags_horizontal = 0

[node name="Label" type="Label" parent="Properties/MarginContainer/BalloonProperties/Anchor"]
custom_minimum_size = Vector2(140, 0)
layout_mode = 2
text = "Anchor:"

[node name="Anchor OptionButton" type="OptionButton" parent="Properties/MarginContainer/BalloonProperties/Anchor"]
custom_minimum_size = Vector2(304, 0)
layout_mode = 2

[node name="Fill Color" type="HBoxContainer" parent="Properties/MarginContainer/BalloonProperties"]
layout_mode = 2

[node name="Label" type="Label" parent="Properties/MarginContainer/BalloonProperties/Fill Color"]
custom_minimum_size = Vector2(140, 0)
layout_mode = 2
text = "Fill Color:"

[node name="Fill ColorPickerButton" type="ColorPickerButton" parent="Properties/MarginContainer/BalloonProperties/Fill Color"]
custom_minimum_size = Vector2(24, 0)
layout_mode = 2

[node name="Fill Color Revert Button" type="Button" parent="Properties/MarginContainer/BalloonProperties/Fill Color"]
layout_mode = 2
icon = ExtResource("7_bibqs")
flat = true

[node name="Edge Color" type="HBoxContainer" parent="Properties/MarginContainer/BalloonProperties"]
layout_mode = 2

[node name="Label" type="Label" parent="Properties/MarginContainer/BalloonProperties/Edge Color"]
custom_minimum_size = Vector2(140, 0)
layout_mode = 2
text = "Edge Color:"

[node name="Edge ColorPickerButton" type="ColorPickerButton" parent="Properties/MarginContainer/BalloonProperties/Edge Color"]
custom_minimum_size = Vector2(24, 0)
layout_mode = 2

[node name="Edge Color Revert Button" type="Button" parent="Properties/MarginContainer/BalloonProperties/Edge Color"]
layout_mode = 2
icon = ExtResource("7_bibqs")
flat = true

[node name="Font Color" type="HBoxContainer" parent="Properties/MarginContainer/BalloonProperties"]
layout_mode = 2

[node name="Label" type="Label" parent="Properties/MarginContainer/BalloonProperties/Font Color"]
custom_minimum_size = Vector2(140, 0)
layout_mode = 2
text = "Text Color:"

[node name="Font ColorPickerButton" type="ColorPickerButton" parent="Properties/MarginContainer/BalloonProperties/Font Color"]
custom_minimum_size = Vector2(24, 0)
layout_mode = 2

[node name="Font Color Revert Button" type="Button" parent="Properties/MarginContainer/BalloonProperties/Font Color"]
layout_mode = 2
icon = ExtResource("7_bibqs")
flat = true

[node name="PageProperties" type="VBoxContainer" parent="Properties/MarginContainer" node_paths=PackedStringArray("action_button", "action_target_button", "action_commands_textedit", "chapter_row", "chapter_button", "new_name_label", "new_name_lineedit", "allow_back_check_box", "allow_save_check_box", "auto_save_check_box", "promote_button", "delete_button")]
visible = false
layout_mode = 2
script = ExtResource("4_nx1jt")
action_button = NodePath("Action/Action OptionButton")
action_target_button = NodePath("Action Target OptionButton")
action_commands_textedit = NodePath("Action Commands TextEdit")
chapter_row = NodePath("Chapter")
chapter_button = NodePath("Chapter/Chapter OptionButton")
new_name_label = NodePath("Page Name/New Name Label")
new_name_lineedit = NodePath("Page Name/New Name LineEdit")
allow_back_check_box = NodePath("AllowBack CheckBox")
allow_save_check_box = NodePath("AllowSave CheckBox")
auto_save_check_box = NodePath("AutoSave CheckBox")
promote_button = NodePath("Promote Button")
delete_button = NodePath("Delete Button")

[node name="Header" type="Label" parent="Properties/MarginContainer/PageProperties"]
layout_mode = 2
theme_type_variation = &"HeaderLarge"
text = "Page Properties"

[node name="Chapter" type="HBoxContainer" parent="Properties/MarginContainer/PageProperties"]
layout_mode = 2

[node name="Label" type="Label" parent="Properties/MarginContainer/PageProperties/Chapter"]
custom_minimum_size = Vector2(140, 0)
layout_mode = 2
text = "Chapter:"

[node name="Chapter OptionButton" type="OptionButton" parent="Properties/MarginContainer/PageProperties/Chapter"]
layout_mode = 2

[node name="Page Name" type="HBoxContainer" parent="Properties/MarginContainer/PageProperties"]
layout_mode = 2

[node name="New Name Label" type="Label" parent="Properties/MarginContainer/PageProperties/Page Name"]
custom_minimum_size = Vector2(140, 0)
layout_mode = 2
text = "Page Name:"

[node name="New Name LineEdit" type="LineEdit" parent="Properties/MarginContainer/PageProperties/Page Name"]
layout_mode = 2
size_flags_horizontal = 3
placeholder_text = "Allowed chars: a-z 0-9 _"

[node name="Action" type="HBoxContainer" parent="Properties/MarginContainer/PageProperties"]
layout_mode = 2

[node name="Label" type="Label" parent="Properties/MarginContainer/PageProperties/Action"]
custom_minimum_size = Vector2(140, 0)
layout_mode = 2
text = "BG Click:"

[node name="Action OptionButton" type="OptionButton" parent="Properties/MarginContainer/PageProperties/Action"]
layout_mode = 2

[node name="Action Target OptionButton" type="OptionButton" parent="Properties/MarginContainer/PageProperties"]
layout_mode = 2

[node name="Action Commands TextEdit" type="TextEdit" parent="Properties/MarginContainer/PageProperties"]
custom_minimum_size = Vector2(0, 100)
layout_mode = 2
placeholder_text = "Enter Commands..."

[node name="AllowBack CheckBox" type="CheckBox" parent="Properties/MarginContainer/PageProperties"]
layout_mode = 2
button_pressed = true
text = "Allow right-click to go back"

[node name="AllowSave CheckBox" type="CheckBox" parent="Properties/MarginContainer/PageProperties"]
layout_mode = 2
button_pressed = true
text = "Allow save  (if manual slots exist)"

[node name="AutoSave CheckBox" type="CheckBox" parent="Properties/MarginContainer/PageProperties"]
layout_mode = 2
button_pressed = true
text = "Auto-save (if auto slot exists)"

[node name="Promote Button" type="Button" parent="Properties/MarginContainer/PageProperties"]
layout_mode = 2
text = "Promote to Title Page"

[node name="Delete Button" type="Button" parent="Properties/MarginContainer/PageProperties"]
layout_mode = 2
text = "Delete Page"

[node name="FragmentProperties" type="VBoxContainer" parent="Properties/MarginContainer" node_paths=PackedStringArray("key_lineedit", "show_textedit", "show_in_editor_checkbox", "delete_button")]
visible = false
layout_mode = 2
script = ExtResource("9_t8wiw")
key_lineedit = NodePath("New Key LineEdit")
show_textedit = NodePath("Show TextEdit")
show_in_editor_checkbox = NodePath("Show in Editor CheckBox")
delete_button = NodePath("Delete Button")

[node name="Header" type="Label" parent="Properties/MarginContainer/FragmentProperties"]
layout_mode = 2
theme_type_variation = &"HeaderLarge"
text = "Fragment Properties"

[node name="New Key LineEdit" type="LineEdit" parent="Properties/MarginContainer/FragmentProperties"]
layout_mode = 2
placeholder_text = "Fragment Name"

[node name="Show label" type="Label" parent="Properties/MarginContainer/FragmentProperties"]
layout_mode = 2
text = "Show? (true/yes/1)"

[node name="Show TextEdit" type="TextEdit" parent="Properties/MarginContainer/FragmentProperties"]
custom_minimum_size = Vector2(0, 100)
layout_mode = 2
text = "true"
placeholder_text = "Enter Commands..."

[node name="Show in Editor CheckBox" type="CheckBox" parent="Properties/MarginContainer/FragmentProperties"]
layout_mode = 2
button_pressed = true
text = "Show in editor"

[node name="Delete Button" type="Button" parent="Properties/MarginContainer/FragmentProperties"]
layout_mode = 2
text = "Remove fragment (keep contents)"

[node name="EditorSettings" type="VBoxContainer" parent="Properties/MarginContainer" node_paths=PackedStringArray("snap_to_grid_check_box", "show_grid_check_box", "grid_x_spin_box", "grid_y_spin_box")]
visible = false
layout_mode = 2
script = ExtResource("10_2xp14")
snap_to_grid_check_box = NodePath("Snap to Grid CheckBox")
show_grid_check_box = NodePath("Grid Size/Show Grid CheckBox")
grid_x_spin_box = NodePath("Grid Size/grid_x")
grid_y_spin_box = NodePath("Grid Size/grid_y")

[node name="Header" type="Label" parent="Properties/MarginContainer/EditorSettings"]
layout_mode = 2
theme_type_variation = &"HeaderLarge"
text = "Editor Settings"

[node name="Grid Size" type="HBoxContainer" parent="Properties/MarginContainer/EditorSettings"]
layout_mode = 2

[node name="Show Grid CheckBox" type="CheckBox" parent="Properties/MarginContainer/EditorSettings/Grid Size"]
layout_mode = 2
button_pressed = true
text = "Show Grid"

[node name="Label" type="Label" parent="Properties/MarginContainer/EditorSettings/Grid Size"]
visible = false
layout_mode = 2
size_flags_horizontal = 3
text = "Snap distance"

[node name="grid_x" type="SpinBox" parent="Properties/MarginContainer/EditorSettings/Grid Size"]
layout_mode = 2
min_value = 2.0
value = 12.0

[node name="x" type="Label" parent="Properties/MarginContainer/EditorSettings/Grid Size"]
layout_mode = 2
text = "x"

[node name="grid_y" type="SpinBox" parent="Properties/MarginContainer/EditorSettings/Grid Size"]
layout_mode = 2
min_value = 2.0
value = 12.0

[node name="px" type="Label" parent="Properties/MarginContainer/EditorSettings/Grid Size"]
layout_mode = 2
text = "px"

[node name="Snap to Grid CheckBox" type="CheckBox" parent="Properties/MarginContainer/EditorSettings"]
layout_mode = 2
button_pressed = true
text = "Snap to Grid (Shift for opposite)"

[node name="BookProperties" type="VBoxContainer" parent="Properties/MarginContainer" node_paths=PackedStringArray("auto_save_slot_check_box", "manual_save_slots_check_box")]
visible = false
layout_mode = 2
script = ExtResource("11_npbar")
auto_save_slot_check_box = NodePath("AutoSaveSlot CheckBox")
manual_save_slots_check_box = NodePath("ManualSaveSlots CheckBox")

[node name="Header" type="Label" parent="Properties/MarginContainer/BookProperties"]
layout_mode = 2
theme_type_variation = &"HeaderLarge"
text = "Book Properties"

[node name="ManualSaveSlots CheckBox" type="CheckBox" parent="Properties/MarginContainer/BookProperties"]
layout_mode = 2
button_pressed = true
text = "Manual Save Slots"

[node name="AutoSaveSlot CheckBox" type="CheckBox" parent="Properties/MarginContainer/BookProperties"]
layout_mode = 2
button_pressed = true
text = "Auto Save Slot"

[node name="KaboomProperties" type="VBoxContainer" parent="Properties/MarginContainer" node_paths=PackedStringArray("line_edit", "font_color_button", "font_color_revert_button", "outline_color_button", "outline_color_revert_button")]
visible = false
layout_mode = 2
script = ExtResource("7_mktfq")
line_edit = NodePath("LineEdit")
font_color_button = NodePath("Font Color/Font ColorPickerButton")
font_color_revert_button = NodePath("Font Color/Font Color Revert Button")
outline_color_button = NodePath("Outline Color/Outline ColorPickerButton")
outline_color_revert_button = NodePath("Outline Color/Outline Color Revert Button")

[node name="Header" type="Label" parent="Properties/MarginContainer/KaboomProperties"]
layout_mode = 2
theme_type_variation = &"HeaderLarge"
text = "Kaboom Properties"

[node name="LineEdit" type="LineEdit" parent="Properties/MarginContainer/KaboomProperties"]
layout_mode = 2

[node name="Font Color" type="HBoxContainer" parent="Properties/MarginContainer/KaboomProperties"]
layout_mode = 2

[node name="Label" type="Label" parent="Properties/MarginContainer/KaboomProperties/Font Color"]
custom_minimum_size = Vector2(140, 0)
layout_mode = 2
text = "Text Color:"

[node name="Font ColorPickerButton" type="ColorPickerButton" parent="Properties/MarginContainer/KaboomProperties/Font Color"]
custom_minimum_size = Vector2(24, 0)
layout_mode = 2

[node name="Font Color Revert Button" type="Button" parent="Properties/MarginContainer/KaboomProperties/Font Color"]
layout_mode = 2
icon = ExtResource("7_bibqs")
flat = true

[node name="Outline Color" type="HBoxContainer" parent="Properties/MarginContainer/KaboomProperties"]
layout_mode = 2

[node name="Label" type="Label" parent="Properties/MarginContainer/KaboomProperties/Outline Color"]
custom_minimum_size = Vector2(140, 0)
layout_mode = 2
text = "Outline Color:"

[node name="Outline ColorPickerButton" type="ColorPickerButton" parent="Properties/MarginContainer/KaboomProperties/Outline Color"]
custom_minimum_size = Vector2(24, 0)
layout_mode = 2

[node name="Outline Color Revert Button" type="Button" parent="Properties/MarginContainer/KaboomProperties/Outline Color"]
layout_mode = 2
icon = ExtResource("7_bibqs")
flat = true

[node name="ImageProperties" type="VBoxContainer" parent="Properties/MarginContainer" node_paths=PackedStringArray("anchor_button")]
visible = false
layout_mode = 2
script = ExtResource("13_jcyyd")
anchor_button = NodePath("Anchor/Anchor OptionButton")

[node name="Header" type="Label" parent="Properties/MarginContainer/ImageProperties"]
layout_mode = 2
theme_type_variation = &"HeaderLarge"
text = "Image Properties"

[node name="Anchor" type="HBoxContainer" parent="Properties/MarginContainer/ImageProperties"]
layout_mode = 2
size_flags_horizontal = 0

[node name="Label" type="Label" parent="Properties/MarginContainer/ImageProperties/Anchor"]
custom_minimum_size = Vector2(140, 0)
layout_mode = 2
text = "Anchor:"

[node name="Anchor OptionButton" type="OptionButton" parent="Properties/MarginContainer/ImageProperties/Anchor"]
custom_minimum_size = Vector2(304, 0)
layout_mode = 2

[node name="ButtonProperties" type="VBoxContainer" parent="Properties/MarginContainer" node_paths=PackedStringArray("text_edit", "action_button", "action_target_button", "action_commands_textedit")]
visible = false
layout_mode = 2
script = ExtResource("8_lxpup")
text_edit = NodePath("Text/Text LineEdit")
action_button = NodePath("Action/Action OptionButton")
action_target_button = NodePath("Action Target OptionButton")
action_commands_textedit = NodePath("Action Commands TextEdit")

[node name="Header" type="Label" parent="Properties/MarginContainer/ButtonProperties"]
layout_mode = 2
theme_type_variation = &"HeaderLarge"
text = "Button Properties"

[node name="Text" type="HBoxContainer" parent="Properties/MarginContainer/ButtonProperties"]
layout_mode = 2

[node name="Text Label" type="Label" parent="Properties/MarginContainer/ButtonProperties/Text"]
custom_minimum_size = Vector2(140, 0)
layout_mode = 2
text = "Text:"

[node name="Text LineEdit" type="LineEdit" parent="Properties/MarginContainer/ButtonProperties/Text"]
layout_mode = 2
size_flags_horizontal = 3

[node name="Action" type="HBoxContainer" parent="Properties/MarginContainer/ButtonProperties"]
layout_mode = 2

[node name="Action Label" type="Label" parent="Properties/MarginContainer/ButtonProperties/Action"]
custom_minimum_size = Vector2(140, 0)
layout_mode = 2
text = "Action:"

[node name="Action OptionButton" type="OptionButton" parent="Properties/MarginContainer/ButtonProperties/Action"]
layout_mode = 2

[node name="Action Target OptionButton" type="OptionButton" parent="Properties/MarginContainer/ButtonProperties"]
layout_mode = 2

[node name="Action Commands TextEdit" type="TextEdit" parent="Properties/MarginContainer/ButtonProperties"]
custom_minimum_size = Vector2(0, 100)
layout_mode = 2
placeholder_text = "Enter Commands..."
